# Project Overview

This is a dual-axis solar tracker project developed for an STM32F401RE microcontroller. The system uses four Light Dependent Resistors (LDRs) to determine the position of the sun and controls two stepper motors (azimuth and elevation) to orient a solar panel towards the light source.

The core of the software is built upon the FreeRTOS real-time operating system, which manages several concurrent tasks:
- A control task that implements a PID algorithm to calculate the necessary motor adjustments.
- Two separate tasks to handle the movement of the azimuth and elevation stepper motors.
- A default task for simple system checks, like blinking an LED.

The system reads the LDR values using the ADC peripheral with DMA, and it can output debug information via USART2.

## Key Technologies
- **MCU:** STM32F401RE
- **RTOS:** FreeRTOS
- **Framework:** STM32Cube HAL
- **Language:** C

# Building and Running

This project is configured to be built with the GNU ARM toolchain.

## Building the Project

To build the project, navigate to the `Debug` directory and run `make`:

```sh
cd Debug
make all -j16
```

This will generate the `solar_tracker_PID.elf` firmware file in the `Debug` directory.

## Cleaning the Project

To remove all build artifacts, run:

```sh
cd Debug
make clean
```

# Development Conventions

- The code is organized according to the standard STM32CubeIDE project structure.
- Application-specific code, including the FreeRTOS task definitions and the PID control logic, is primarily located in `Core/Src/freertos.c`.
- Hardware initialization is handled by the HAL library, with configuration files generated by STM32CubeMX.
- FreeRTOS tasks are used for modularity and real-time control. Message queues are used for inter-task communication between the control task and the motor tasks.
